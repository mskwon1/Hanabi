package ui;

import java.util.ArrayList;

import application.HanabiAssistant;
import entity.Card;
import entity.Player;
import javafx.fxml.FXML;
import javafx.scene.control.Button;
import javafx.scene.text.Font;

public class HandPaneController {
	private Player player;
	private boolean isMyHand;
	
	@FXML
	private Button btnCard1;
	@FXML
	private Button btnCard2;
	@FXML
	private Button btnCard3;
	@FXML
	private Button btnCard4;
	@FXML
	private Button btnCard5;
	
	private ArrayList<Button> buttons;
	
	@FXML
	private Button btnDiscard;
	@FXML
	private Button btnPutOnBoard;
	
	public HandPaneController() {
	
	}
	
	public void setHand(Player player) {
		this.player = player;
		
		ArrayList<Card> tempHand = player.getHand();
		
		for (int i=0;i<tempHand.size();i++) {
			if (this.isMyHand) {
				buttons.get(i).setText(tempHand.get(i).getNumWithHint());
				setColor(buttons.get(i), tempHand.get(i).getColorWithHint());
			} else {
				String temp = "";
				temp += tempHand.get(i).getNum();
				buttons.get(i).setText(temp);
				setColor(buttons.get(i), tempHand.get(i).getColor());
			}
		}
	}
	
	private void setColor(Button button, String color) {
		switch (color) {
		case "RED":
			setButtonRed(button);
			break;
		case "BLUE":
			setButtonBlue(button);
			break;
		case "GREEN":
			setButtonGreen(button);
			break;
		case "BLACK":
			setButtonBlack(button);
			break;
		case "YELLOW":
			setButtonYellow(button);
			break;
		case "?":
			setButtonWhite(button);
			break;
		}
	}
	
	private void setButtonRed(Button button) {
		button.setStyle("-fx-base: red; -fx-font-size:50px;");
	}

	private void setButtonBlue(Button button) {
		button.setStyle("-fx-base: blue; -fx-font-size:50px;");
	}

	private void setButtonGreen(Button button) {
		button.setStyle("-fx-base: green; -fx-font-size:50px;");
	}
	
	private void setButtonBlack(Button button) {
		button.setStyle("-fx-base: black; -fx-font-size:50px;");
	}
	
	private void setButtonYellow(Button button) {
		button.setStyle("-fx-base: yellow; -fx-font-size:50px;");
	}

	private void setButtonWhite(Button button) {
		button.setStyle("-fx-base: white; -fx-font-size:50px;");
	}
	
	public void setMyHand() {
		isMyHand = true;
	}
	
	@FXML
	private void initialize() {
		buttons = new ArrayList<Button>();
		isMyHand = false;
		
		buttons.add(btnCard1);
		buttons.add(btnCard2);
		buttons.add(btnCard3);
		buttons.add(btnCard4);
		buttons.add(btnCard5);
		
	}
}
